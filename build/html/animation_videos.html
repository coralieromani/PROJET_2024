

<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Animation des trajets de vélos à Montpellier &mdash; Documentation ANALYSE DU TRAFIC CYCLISTE </title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d1a510d7"></script>
      <script src="_static/doctools.js?v=9a2dae69"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/translations.js?v=bf059b8c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            ANALYSE DU TRAFIC CYCLISTE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Installation et Contacts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installer/installation.html">Installation du Projet</a></li>
<li class="toctree-l1"><a class="reference internal" href="installer/contacts.html">Contact</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Traitement des bases de données</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="traitement_donnees/donnee_eco.html">Gestionnaire des Données Éco-Compteurs</a></li>
<li class="toctree-l1"><a class="reference internal" href="traitement_donnees/donnee_velo.html">Traitement des Données VéloMagg</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Video</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="video_creation.html">Création de la Vidéo des Déplacements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ANALYSE DU TRAFIC CYCLISTE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Animation des trajets de vélos à Montpellier</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/animation_videos.rst.txt" rel="nofollow"> Afficher la source de la page</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="animation-des-trajets-de-velos-a-montpellier">
<h1>Animation des trajets de vélos à Montpellier<a class="headerlink" href="#animation-des-trajets-de-velos-a-montpellier" title="Lien vers cette rubrique"></a></h1>
<p>Ce script génère une animation des trajets de vélos à Montpellier à partir des données de trajets extraites d’un fichier CSV. Il utilise la bibliothèque <cite>osmnx</cite> pour charger la carte de Montpellier et calcule les itinéraires les plus courts entre les points de départ et d’arrivée des trajets de vélos. Ensuite, il génère une animation montrant les trajets actifs à différents moments de la journée.</p>
<p>Le script suit ces étapes principales :
1. Chargement des données de trajets de vélos depuis un fichier CSV.
2. Filtrage des trajets en fonction de la durée et de la date.
3. Calcul des itinéraires sur une carte OpenStreetMap.
4. Animation des trajets et génération d’une vidéo de l’animation.</p>
<section id="dependances">
<h2>Dépendances :<a class="headerlink" href="#dependances" title="Lien vers cette rubrique"></a></h2>
<ul class="simple">
<li><p>pandas</p></li>
<li><p>matplotlib</p></li>
<li><p>matplotlib.animation</p></li>
<li><p>osmnx</p></li>
</ul>
</section>
<section id="fonctions">
<h2>Fonctions<a class="headerlink" href="#fonctions" title="Lien vers cette rubrique"></a></h2>
<dl>
<dt><strong>`calculate_routes(row)`</strong></dt><dd><p>Calcule l’itinéraire le plus court entre le point de départ et le point d’arrivée d’un trajet.</p>
<dl class="simple">
<dt>Args :</dt><dd><p>row (pd.Series) : Ligne contenant les coordonnées de départ et d’arrivée.</p>
</dd>
<dt>Retourne :</dt><dd><p>list : Liste des nœuds représentant le chemin le plus court, ou une liste vide en cas d’échec.</p>
</dd>
</dl>
</dd>
<dt><strong>`update(frame)`</strong></dt><dd><p>Met à jour les éléments de l’animation pour une frame donnée.</p>
<dl class="simple">
<dt>Args :</dt><dd><p>frame (int) : Numéro de la frame actuelle.</p>
</dd>
<dt>Retourne :</dt><dd><p>tuple : Objets graphiques à mettre à jour (points de vélos, lignes des trajets, texte du temps).</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="execution-du-script">
<h2>Exécution du script<a class="headerlink" href="#execution-du-script" title="Lien vers cette rubrique"></a></h2>
<p>Le script charge les données depuis le fichier <cite>velomagg-12-15.csv</cite>, filtre les trajets pour une journée spécifique et exclut les trajets trop courts ou trop longs. Ensuite, il crée une animation en mettant à jour les positions des vélos à chaque frame. L’animation est ensuite enregistrée sous forme de vidéo au format MP4.</p>
<p>Le fichier CSV doit contenir les colonnes suivantes :
- <strong>Departure</strong> : Heure de départ du trajet.
- <strong>Return</strong> : Heure de retour du trajet.
- <strong>latitude_depart</strong> : Latitude du point de départ.
- <strong>longitude_depart</strong> : Longitude du point de départ.
- <strong>latitude_retour</strong> : Latitude du point de retour.
- <strong>longitude_retour</strong> : Longitude du point de retour.</p>
<p>Exemple de commande pour exécuter le script :</p>
</section>
<section id="resultat">
<h2>Résultat :<a class="headerlink" href="#resultat" title="Lien vers cette rubrique"></a></h2>
<p>Une vidéo <cite>bike_animation_15_Dec.mp4</cite> sera générée, montrant les trajets de vélos actifs à différents moments de la journée.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Droits d'auteur 2024, DIALLO Ousmane , M&#39;RAD Samy , MBAYE Rokhaya, ROMANI DE VINCI Coralie.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>